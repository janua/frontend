@(trail: model.Trail, itemIndex: Int, containerIndex: Int, isSubLink: Boolean)(implicit request: RequestHeader, config: com.gu.facia.client.models.CollectionConfig)

@import common.LinkTo
@import views.support.{ItemKicker, BreakingNewsKicker, LiveKicker, AnalysisKicker, PodcastKicker, ReviewKicker}
@import views.support.{CartoonKicker, TagKicker, SectionKicker, FreeHtmlKicker, RemoveOuterParaHtml}

<h3 class="fc-sublink__title">
  @ItemKicker.fromTrail(trail, if (isSubLink) None else Some(config)).map {
    case BreakingNewsKicker => {
      <span class="fc-sublink__kicker fc-sublink__live-indicator">Breaking News</span>
    }

    case LiveKicker => {
      <span class="fc-sublink__kicker fc-sublink__live-indicator">Live</span>
    }

    case AnalysisKicker => {
      <span class="fc-sublink__kicker">Analysis</span>
    }

    case CartoonKicker => {
      <span class="fc-sublink__kicker">Cartoon</span>
    }

    case PodcastKicker(Some(series)) => {
      <a href="@LinkTo(series.url)" data-link-name="kicker" class="fc-sublink__kicker">@Html(series.name)</a>
    }

    case PodcastKicker(None) => {
      <span class="fc-sublink__kicker">Podcast</span>
    }

    case ReviewKicker => {
      <span class="fc-sublink__kicker">Review</span>
    }

    case TagKicker(tagName, tagLink) => {
      <a href="@LinkTo(tagLink)" data-link-name="kicker" class="fc-sublink__kicker">@Html(tagName)</a>
    }

    case SectionKicker(sectionName, sectionLink) => {
      <a href="@LinkTo(sectionLink)" data-link-name="kicker" class="fc-sublink__kicker">@Html(sectionName)</a>
    }

    case FreeHtmlKicker(html) => {
      <span class="fc-sublink__kicker">@Html(html)</span>
    }
  }

  @LinkTo(trail).map { url =>
    <a href="@url" class="fc-sublink__link" data-link-name="article">
      @RemoveOuterParaHtml(trail.headline)
    </a>
  }
</h3>
